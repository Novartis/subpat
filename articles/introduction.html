<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>subpat - Shiny subpopulations and subgroup modules for patient data • subpat</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="subpat - Shiny subpopulations and subgroup modules for patient data">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">subpat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    User Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/plg.html">User guide to PLG</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Dev Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/modules.html">Modules overview</a>
    </li>
    <li>
      <a href="../articles/tte_integration.html">TTE module integration</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Novartis/subpat">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>subpat - Shiny subpopulations and subgroup modules for patient data</h1>
                        <h4 class="author">Stefan Eng</h4>
            
            <h4 class="date">2020-03-18</h4>
      
      
      <div class="hidden name"><code>introduction.Rmd</code></div>

    </div>

    
    
<div id="section1" class="section level2">
<h2 class="hasAnchor">
<a href="#section1" class="anchor"></a>Introduction</h2>
<p><code>{subpat}</code> is a package of shiny modules to create subpopulations and subpopulations of patients. It was developed with clinical data in mind but a patient does need to be Here we refer to <em>subpopulations</em> as a subset of a population (a collection of data sets). This differs from <em>subgroups</em> which are derived variables that partition a data set. It features an intuitive graphical querying interface to create subpopulations which is developed using the <a href="https://github.com/RinteRface/bs4Dash"><code>{bs4Dash}</code></a> R package. <code>{subpat}</code> features models for</p>
<ul>
<li>Subpopulation creation and managing</li>
<li>Subgroup creation</li>
<li>Ad-hoc table listings (non-validated)</li>
<li>Kaplan Meier analysis</li>
</ul>
<p>As well as two applications</p>
<ul>
<li>Patient Listing Generator (PLG)</li>
<li>TTE (Time-to-event/Survival analysis) App</li>
</ul>
<p>Each of the modules features an example shiny application that shows users how to incorporate the modules into their own applications. This package does not assume any specific data structure but has extended functionality for ADaM data sets. It used the new <em>tidymodules</em> module package also developed at Novartis which is based on R6 classes. The ADaM data used is a sample from the CDISC website.</p>
</div>
<div id="section2" class="section level2">
<h2 class="hasAnchor">
<a href="#section2" class="anchor"></a>Patient Listing Generator</h2>
<p>The Patient Listing Generator (PLG) provides a user – friendly way to load data from GPS, query specific patients of interest and create ad-hoc listings on the fly. It is available in the <code>{subpat}</code> package and is run by the follow function:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1">subpat<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/subpat/man/runPlg.html">runPlg</a></span>()</a></code></pre></div>
<p>The PLG features a subpopulation creation tab as well as an ad-hoc (non validated) patient listing features. The interface is built using <a href="https://github.com/RinteRface/bs4Dash">bs4Dash</a>. It is recommended to build your application using bs4Dash if you would like to use the functionality of <code>{subpat}</code>. The subpopulation is easily reusable and simple to implement in any shiny apps which you can read more about in the <em>modules</em> vignette.</p>
<p>When you start PLG you are presented with a bs4Dash page with a sidebar. The first tab is for loading data.</p>
<div class="figure">
<img src="introduction_images/plg_load_data.png" alt="Welcome screen for PLG"><p class="caption">Welcome screen for PLG</p>
</div>
<p>This page features a clear warning:</p>
<blockquote>
<p>This package is NOT VALIDATED, and should be reserved for exploratory analysis only.</p>
</blockquote>
<p>Pressing <em>Browse</em> will allow the user to upload SAS files to the PLG. You can select multiple files here to upload</p>
<div class="figure">
<img src="introduction_images/plg_select_adam.png" alt="Select SAS files to upload"><p class="caption">Select SAS files to upload</p>
</div>
<div id="creating-patient-subpopulations" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-patient-subpopulations" class="anchor"></a>Creating Patient Subpopulations</h3>
<p>The core feature of the PLG is found in the sidebar menu: <em>Patient Populations</em>. This is where a user can create and manage patient subpopulations.</p>
<div class="figure">
<img src="introduction_images/plg_patient_pop_welcome.png" alt="patient subpopulations"><p class="caption">patient subpopulations</p>
</div>
<p>The patient subpopulations module designed using cards that can be minimized to save space. In the edit population card we have an overview of how many patients are in the given query and the number of filters applied in the header. This will shown even if the card is minimized.</p>
<div class="figure">
<img src="introduction_images/plg_create_filter.png" alt="Create a filter for patients between age 78 and 89"><p class="caption">Create a filter for patients between age 78 and 89</p>
</div>
<p>Filters are created by selecting a data set, a variable from the data set, and then a value. The value selection changes based on the data type of the variable. Categorical variables have a simple mulitple select drop down. Numeric variables have a slider bar as shown in the figure. Dates have two date selectors, one for the start date and one for the end date. The filter card also has options for handling missing values. A common querying task is to find all patients that are missing a start date. We can choose to</p>
<ul>
<li>Remove the missing values (<em>Remove Missing</em>)
<ul>
<li>This option will match the patients matching the query <em>without</em> including any <code>NA</code> values.</li>
</ul>
</li>
<li>Only include missing values (<em>Only Missing</em>)
<ul>
<li>This option will ignore the query values and only return patients where the variable selected is <code>NA</code>.</li>
</ul>
</li>
<li>Include the missing values (<em>Include Missing</em>)
<ul>
<li>This option will match the patients matching the query or any <code>NA</code> values.</li>
</ul>
</li>
</ul>
<p>Once we have added all our filters, we can press save the population. This will close the current editing card and show the new population in the <em>Populations</em> card. We can see a quick overview of the variables included in the subpopulation as well as a badge indicating the number of patients. The buttons allow easy editing or deletion of the population.</p>
<div class="figure">
<img src="introduction_images/plg_subpop_table.png" alt="A summary for each population displays once saved"><p class="caption">A summary for each population displays once saved</p>
</div>
</div>
</div>
<div id="conclusion" class="section level2">
<h2 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h2>
<p>The powerful aspect of the PLG is that all of the modules can be used in your own shiny applications. See the vignette on modules to learn more about include it in your own application.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#section1">Introduction</a></li>
      <li><a href="#section2">Patient Listing Generator</a></li>
      <li><a href="#conclusion">Conclusion</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://stefanengineering.com">Stefan Eng</a>, Xiao Ni, Mustapha Larbaoui, <a href="https://www.novartis.com/"><img src="https://www.novartis.com/sites/all/themes/novartis/novartis-logo.svg" height="24"></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
